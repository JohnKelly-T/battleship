(()=>{var e={44:e=>{e.exports={Ship:class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.length=e,this.type=t,this.hits=0,this.startCoord=null,this.orientation=null}place(e,t,n){this.startCoord=[e,t],this.orientation=n}hit(){this.hits++}isSunk(){return this.hits===this.length}}}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var i={},s=[],o=0;o<e.length;o++){var l=e[o],d=a.base?l[0]+a.base:l[0],c=i[d]||0,p="".concat(d," ").concat(c);i[d]=c+1;var h=n(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var m=r(u,a);a.byIndex=o,t.splice(o,0,{identifier:p,updater:m,references:1})}s.push(p)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var o=n(i[s]);t[o].references--}for(var l=a(e,r),d=0;d<i.length;d++){var c=n(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},171:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var a=n(601),r=n.n(a),i=n(314),s=n.n(i),o=n(417),l=n.n(o),d=new URL(n(901),n.b),c=s()(r()),p=l()(d);c.push([e.id,`@font-face {\n  font-family: "Oxanium";\n  src: url(${p});\n  font-weight: 200 800;\n  font-style: normal;\n}\n\n* {\n  user-select: none;\n}\n\n:root {\n  --background-color: #0e1a23;\n  --primary-color: #3ef3fa;\n  --stroke-color: #60dce0;\n  --dot-color: hsl(182, 95%, 30%);\n  --hover-color: rgba(62, 244, 250, 0.25);\n  --stats-stroke-color: rgba(96, 220, 224, 0.5);\n  --empty-mark-color: #094c4f;\n  --winning-color: #ffcc00;\n\n  --player1-ship-shadow: 0 0 8px rgba(0, 255, 98, 0.8);\n  --player1-ship-stroke: #60e091;\n\n  --player2-ship-shadow: 0 0 8px rgba(255, 136, 0, 0.8);\n  --player2-ship-stroke: #e0a560;\n\n  --hit-mark-shadow: 0 0 8px rgba(255, 0, 55, 0.8);\n  --hit-mark-stroke: #e0607c;\n\n  --miss-mark-shadow: 0 0 8px rgba(47, 166, 170, 0.8);\n  --miss-mark-stroke: #60dce0;\n\n  --green: #44ea83;\n  --red: #f90538;\n  --orange: #f7890c;\n}\n\nbody {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  background: var(--background-color);\n  box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.25);\n  font-family: "Oxanium", sans-serif;\n  color: var(--primary-color);\n}\n\n.game-page-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 3rem;\n}\n\n.title-container {\n  display: flex;\n  align-items: center;\n  gap: 0.2rem;\n}\n\n.title {\n  font-size: 1.5rem;\n  font-weight: 500;\n}\n\n.logo svg {\n  width: 2.5rem;\n  aspect-ratio: 1;\n}\n\n.game-container {\n  display: flex;\n  gap: 6rem;\n  margin: auto;\n}\n\n.player-container {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.square {\n  position: relative;\n}\n\n.square > * {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  pointer-events: none;\n}\n\n.square::before {\n  content: "";\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  transform: none;\n  top: 100%;\n  left: 100%;\n  background-image: radial-gradient(var(--dot-color) 1px, transparent 0);\n  background-size: 2px 2px;\n  background-position: top left;\n  background-repeat: no-repeat;\n  z-index: -1;\n  pointer-events: none;\n}\n\n.ship {\n  width: 85%;\n  aspect-ratio: 1;\n  border-radius: 5px;\n}\n\n.player1-gameboard .ship {\n  background: var(--green);\n  border: 1px solid var(--player1-ship-stroke);\n  box-shadow: var(--player1-ship-shadow);\n}\n\n.player2-gameboard .ship {\n  background: var(--orange);\n  border: 1px solid var(--player2-ship-stroke);\n  box-shadow: var(--player2-ship-shadow);\n}\n\n.player2-gameboard {\n  cursor: pointer;\n}\n\n.player2-gameboard .square:hover {\n  background: var(--hover-color);\n  border-radius: 5px;\n}\n\n.gameboard {\n  width: clamp(300px, 23vw, 400px);\n  aspect-ratio: 1;\n  border: 1px solid var(--stroke-color);\n  border-radius: 5px;\n  box-shadow:\n    0 0 20px rgba(96, 220, 224, 0.1),\n    inset 0 0 0 5px var(--background-color);\n  background: transparent;\n  display: grid;\n  grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n  row-gap: 2px;\n  column-gap: 2px;\n  padding: 2px;\n}\n\n.mark {\n  width: 30%;\n  aspect-ratio: 1;\n  border-radius: 50%;\n}\n\n@keyframes targetHit {\n  0% {\n    box-shadow: var(--hit-mark-shadow);\n  }\n  20% {\n    box-shadow:\n      var(--hit-mark-shadow),\n      0 0 20px 5px rgba(255, 0, 55, 0.9);\n  }\n  100% {\n    box-shadow: var(--hit-mark-shadow);\n  }\n}\n\n.hit {\n  background: var(--red);\n  box-shadow: var(--hit-mark-shadow);\n  border: 1px solid var(--hit-mark-stroke);\n}\n\n.hit-wave {\n  animation: targetHit 1s ease-out;\n}\n\n.miss {\n  background: var(--primary-color);\n  box-shadow: var(--miss-mark-shadow);\n  border: 1px solid var(--miss-mark-stroke);\n}\n\n.empty {\n  background: var(--background-color);\n  box-shadow: var(--miss-mark-shadow);\n  border: 1px solid var(--miss-mark-stroke);\n}\n\n@keyframes explode {\n  0% {\n    box-shadow: 0 3px 2px rgba(255, 0, 55, 0.7);\n  }\n  20% {\n    box-shadow: 0 3px 20px 2px rgba(255, 0, 55, 1);\n  }\n  100% {\n    box-shadow: none;\n  }\n}\n\n.explode-wave {\n  animation: explode 1s ease-out;\n}\n\n.explosion {\n  display: grid;\n  place-content: center;\n  width: 70%;\n  aspect-ratio: 1;\n}\n\n.explosion svg {\n  width: 100%;\n  color: var(--red);\n  filter: drop-shadow(0 3px 2px rgb(255 0 55 / 0.7));\n}\n\n.stats {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.8rem;\n  border: 2px dashed var(--stats-stroke-color);\n  border-radius: 5px;\n}\n\n.name {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  font-weight: bold;\n}\n\n.name .crown {\n  width: 1.5rem;\n  aspect-ratio: 1;\n}\n\n.remaining-ships-label {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.remaining-ships {\n  color: var(--orange);\n}\n\n.quit-button {\n  color: inherit;\n  font-weight: 500;\n  background: none;\n  border: 1px solid var(--primary-color);\n  border-radius: 5px;\n  padding: 0.2rem 2rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n}\n\n.quit-button:hover {\n  background: var(--primary-color);\n  color: var(--background-color);\n}\n\n.disabled {\n  pointer-events: none;\n}\n\n@keyframes showTurn {\n  from {\n    box-shadow:\n      0 0 20px rgba(96, 220, 224, 0.1),\n      inset 0 0 0 5px var(--background-color);\n  }\n  to {\n    box-shadow:\n      0 0 20px 5px rgba(96, 220, 224, 0.2),\n      inset 0 0 0 5px var(--background-color);\n  }\n}\n\n@keyframes hideTurn {\n  from {\n    box-shadow:\n      0 0 20px 5px rgba(96, 220, 224, 0.2),\n      inset 0 0 0 5px var(--background-color);\n  }\n  to {\n    box-shadow:\n      0 0 20px rgba(96, 220, 224, 0.1),\n      inset 0 0 0 5px var(--background-color);\n  }\n}\n\n.turn {\n  box-shadow:\n    0 0 20px 5px rgba(96, 220, 224, 0.2),\n    inset 0 0 0 5px var(--background-color);\n  animation: showTurn 0.5s ease-out;\n}\n\n.not-turn {\n  box-shadow:\n    0 0 20px rgba(96, 220, 224, 0.1),\n    inset 0 0 0 5px var(--background-color);\n  animation: hideTurn 0.5s ease-out;\n}\n\n@keyframes showWinnerBoard {\n  from {\n    box-shadow: none;\n  }\n  to {\n    box-shadow:\n      0 0 20px 5px rgba(255, 204, 0, 0.2),\n      inset 0 0 0 5px var(--background-color);\n  }\n}\n\n.winner-board {\n  box-shadow:\n    0 0 20px 5px rgba(255, 204, 0, 0.2),\n    inset 0 0 0 5px var(--background-color);\n  border: 1px solid var(--winning-color);\n  animation: showWinnerBoard 0.5s ease;\n}\n\n.winner-stats {\n  border: 2px dashed var(--winning-color);\n}\n\n/* start page */\n.start-page-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding: 1rem;\n}\n\n.start-menu-container {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8vw;\n}\n\n.board-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n\n.click-to-rotate,\n.place-your-ships {\n  font-size: 0.8rem;\n  font-weight: 200;\n  color: #eee;\n}\n\n.start-gameboard {\n  width: auto;\n}\n\n.start-gameboard .ship {\n  --offsetX: 0px;\n  --offsetY: 0px;\n  pointer-events: auto;\n  cursor: grab;\n  top: calc(50% + var(--offsetY));\n  left: calc(50% + var(--offsetX));\n}\n\n/* for bigger mouse event area */\n.start-gameboard .ship::before {\n  content: "";\n  position: absolute;\n  top: -10%;\n  left: -10%;\n  width: 150%;\n  height: 150%;\n}\n\n.start-menu-container .square {\n  width: 2.2rem;\n  aspect-ratio: 1;\n}\n\n.options-container {\n  display: flex;\n  justify-content: space-between;\n}\n\n.randomize-button,\n.reset-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.2rem;\n  background: none;\n  border: none;\n  color: inherit;\n  font-size: 0.8rem;\n  font-weight: 200;\n  cursor: pointer;\n  padding-bottom: 0.5rem;\n}\n\n.options-container svg {\n  width: 1.5rem;\n  aspect-ratio: 1;\n}\n\n.start-menu {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 3rem;\n}\n\n.start-menu .square::before {\n  display: none;\n}\n\n.start-title-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.2rem;\n}\n\n.start-title-container .logo {\n  width: 2.5rem;\n}\n\n.start-title-container .title {\n  font-size: 1.4rem;\n}\n\n.ship-placement-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.4rem;\n}\n\n.ship-placement-box {\n  display: grid;\n  grid-template-columns: auto auto;\n  grid-template-rows: 1fr 1fr 1fr;\n  grid-template-areas:\n    "carrier    ."\n    "battleship patrol-boat"\n    "destroyer  submarine";\n  column-gap: 1rem;\n  row-gap: 1rem;\n  border: 2px dashed var(--stats-stroke-color);\n  border-radius: 5px;\n  padding: 1rem;\n}\n\n.ship-placement-box > * {\n  position: relative;\n  cursor: grab;\n}\n\n.ship-placement-box > * {\n  position: relative;\n  cursor: grab;\n}\n\n.start-gameboard .ship,\n.ship-placement-box .ship {\n  background: var(--green);\n  border: 1px solid var(--player1-ship-stroke);\n  box-shadow: var(--player1-ship-shadow);\n}\n\n.ship-placement-box .ship,\n.ship-placement-box .square {\n  pointer-events: none;\n}\n\n/* ships */\n.carrier,\n.battleship,\n.destroyer,\n.submarine,\n.patrol-boat {\n  display: flex;\n  width: min-content;\n  gap: 2px;\n}\n\n.carrier {\n  grid-area: carrier;\n}\n\n.battleship {\n  grid-area: battleship;\n}\n\n.destroyer {\n  grid-area: destroyer;\n}\n\n.submarine {\n  grid-area: submarine;\n}\n\n.patrol-boat {\n  display: flex;\n  justify-self: end;\n  grid-area: patrol-boat;\n}\n\n.start-button {\n  color: inherit;\n  font-weight: 500;\n  background: none;\n  border: 1px solid var(--primary-color);\n  border-radius: 5px;\n  padding: 0.2rem 2rem;\n  cursor: pointer;\n}\n\n.start-button:hover {\n  background: var(--primary-color);\n  color: var(--background-color);\n}\n\n.attribution-container {\n  display: flex;\n  justify-content: center;\n}\n\n.attribution-container a {\n  display: flex;\n  color: inherit;\n  text-underline-offset: 0.2rem;\n  gap: 0.2rem;\n}\n\n.attribution-container a:hover {\n  cursor: pointer;\n}\n\n.attribution-container svg {\n  width: 1.2rem;\n  aspect-ratio: 1;\n}\n\n.credit {\n  display: flex;\n  gap: 0.2rem;\n}\n\n.volume-button {\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  background: none;\n  border: none;\n}\n\n.volume-button:hover {\n  cursor: pointer;\n}\n\n.volume-button svg {\n  color: var(--primary-color);\n  width: 1.5rem;\n  aspect-ratio: 1;\n  opacity: 0.3;\n}\n`,""]);const h=c},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},659:e=>{"use strict";var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},901:(e,t,n)=>{"use strict";e.exports=n.p+"ddb4aaa2d53679f0c33b.ttf"},993:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(601),r=n.n(a),i=n(314),s=n.n(i)()(r());s.push([e.id,"/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n",""]);const o=s}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),a=n(825),r=n.n(a),i=n(659),s=n.n(i),o=n(56),l=n.n(o),d=n(540),c=n.n(d),p=n(113),h=n.n(p),u=n(993),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=c(),t()(u.A,m),u.A&&u.A.locals&&u.A.locals;var g=n(171),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=s().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=c(),t()(g.A,v),g.A&&g.A.locals&&g.A.locals;var b=n(44);function f(e){let t=document.createElement("div");t.classList.add("player1-gameboard"),t.classList.add("gameboard");for(let n=0;n<10;n++)for(let a=0;a<10;a++){let r=document.createElement("div");r.classList.add("square"),r.setAttribute("data-y",n),r.setAttribute("data-x",a);let i=e.player1.gameboard.board[n][a];if(i instanceof b.Ship){let e=document.createElement("div");e.classList.add("ship"),r.appendChild(e)}let s=e.player1.gameboard.receivedAttacks[n][a],o=document.createElement("div");o.classList.add("mark"),"miss"===s?o.classList.add("miss"):"empty"===s?o.classList.add("empty"):"hit"===s&&(i.isSunk()?(o.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n              <path fill="currentColor" d="m12 16.648l1.378-1.378h1.892v-1.892L16.648 12l-1.378-1.378V8.73h-1.892L12 7.352L10.622 8.73H8.73v1.892L7.352 12l1.378 1.378v1.892h1.892zm0 5.268L9.069 19H5v-4.069L2.085 12L5 9.069V5h4.069L12 2.085L14.931 5H19v4.069L21.916 12L19 14.931V19h-4.069z" />\n            </svg>\n          ',o.classList.add("explosion")):o.classList.add("hit")),null!==s&&r.appendChild(o),t.appendChild(r)}return t}function y(e){let t=document.createElement("div");t.classList.add("player2-gameboard"),t.classList.add("gameboard"),t.classList.add("turn");for(let n=0;n<10;n++)for(let a=0;a<10;a++){let r=document.createElement("div");r.classList.add("square"),r.setAttribute("data-y",n),r.setAttribute("data-x",a);let i=e.player2.gameboard.board[n][a];if(i instanceof b.Ship&&i.isSunk()){let e=document.createElement("div");e.classList.add("ship"),r.appendChild(e)}let s=e.player2.gameboard.receivedAttacks[n][a],o=document.createElement("div");o.classList.add("mark"),"miss"===s?o.classList.add("miss"):"empty"===s?o.classList.add("empty"):"hit"===s&&(i.isSunk()?(o.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n              <path fill="currentColor" d="m12 16.648l1.378-1.378h1.892v-1.892L16.648 12l-1.378-1.378V8.73h-1.892L12 7.352L10.622 8.73H8.73v1.892L7.352 12l1.378 1.378v1.892h1.892zm0 5.268L9.069 19H5v-4.069L2.085 12L5 9.069V5h4.069L12 2.085L14.931 5H19v4.069L21.916 12L19 14.931V19h-4.069z" />\n            </svg>\n          ',o.classList.add("explosion")):o.classList.add("hit")),null!==s&&r.appendChild(o),t.appendChild(r)}return t}function x(e){let t=document.createElement("div");t.classList.add("start-gameboard"),t.classList.add("gameboard");for(let n=0;n<10;n++)for(let a=0;a<10;a++){let r=document.createElement("div");r.classList.add("square"),r.setAttribute("data-y",n),r.setAttribute("data-x",a);let i=e.player1.gameboard.board[n][a];if(i instanceof b.Ship){let e=document.createElement("div");e.classList.add("ship"),e.setAttribute("data-ship-type",i.type),e.setAttribute("data-y",n),e.setAttribute("data-x",a),e.setAttribute("data-orientation",i.orientation),r.appendChild(e)}t.appendChild(r)}return t}class w{constructor(){this.board=Array.from({length:10},(()=>Array(10).fill(null))),this.ships=[],this.remainingShips=5,this.receivedAttacks=Array.from({length:10},(()=>{Array(10).fill(null)}))}placeShip(e,t,n,a){let r;switch(e){case"carrier":r=new b.Ship(5,e);break;case"battleship":r=new b.Ship(4,e);break;case"destroyer":case"submarine":r=new b.Ship(3,e);break;case"patrolBoat":r=new b.Ship(2,e)}let i=[];for(let e=0;e<r.length;e++){let r=t,s=n;if("horizontal"===a?r=t+e:s=n+e,r<0||r>=this.board.length||s<0||s>=this.board.length||null!==this.board[s][r])return!1;for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)if(r+e>=0&&s+t>=0&&r+e<10&&s+t<10&&this.board[s+t][r+e]instanceof b.Ship)return!1;i.push([r,s])}r.place(t,n,a),this.ships.push(r);for(let[e,t]of i)this.board[t][e]=r;return!0}receiveAttack(e,t){if(e=Number(e),t=Number(t),null!==this.receivedAttacks[t][e])return!1;if(this.board[t][e]instanceof b.Ship){let n=this.board[t][e];if(n.hit(),this.receivedAttacks[t][e]="hit",n.isSunk()&&(this.remainingShips-=1),e-1>=0&&(t-1>=0&&null===this.receivedAttacks[t-1][e-1]&&(this.receivedAttacks[t-1][e-1]="empty"),t+1<10&&null===this.receivedAttacks[t+1][e-1]&&(this.receivedAttacks[t+1][e-1]="empty")),e+1<10&&(t-1>=0&&null===this.receivedAttacks[t-1][e+1]&&(this.receivedAttacks[t-1][e+1]="empty"),t+1<10&&null===this.receivedAttacks[t+1][e+1]&&(this.receivedAttacks[t+1][e+1]="empty")),n.isSunk()){let e=n.startCoord[0],t=n.startCoord[1];if("horizontal"===n.orientation){let a=n.startCoord[0]+n.length-1;e-1>=0&&null===this.receivedAttacks[t][e-1]&&(this.receivedAttacks[t][e-1]="empty"),a+1<10&&null===this.receivedAttacks[t][a+1]&&(this.receivedAttacks[t][a+1]="empty")}else{let a=n.startCoord[1]+n.length-1;t-1>=0&&null===this.receivedAttacks[t-1][e]&&(this.receivedAttacks[t-1][e]="empty"),a+1<10&&null===this.receivedAttacks[a+1][e]&&(this.receivedAttacks[a+1][e]="empty")}}}else this.receivedAttacks[t][e]="miss";return!0}areAllShipsSunk(){for(let e of this.ships)if(!e.isSunk())return!1;return!0}removeShip(e){this.ships=this.ships.filter((t=>t.type!==e));for(let t=0;t<10;t++)for(let n=0;n<10;n++)this.board[t][n]instanceof b.Ship&&this.board[t][n].type===e&&(this.board[t][n]=null)}}class L{constructor(){this.gameboard=new w}placeShipsRandomly(){let e=["carrier","battleship","destroyer","submarine","patrolBoat"],t=["vertical","horizontal"];for(let n of e){let e=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),r=t[Math.floor(2*Math.random())];for(;!0!==this.gameboard.placeShip(n,e,a,r);)e=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),r=t[Math.floor(2*Math.random())]}}}class k extends L{constructor(){super(),this.moveQueue=[],this.shipHits=[],this.shipOrientation=null,this.currentShipTarget=null}getRandomMove(e){let t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());for(;null!==e.receivedAttacks[n][t];)t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());return e.board[n][t]instanceof b.Ship&&(this.currentShipTarget=e.board[n][t],this.addNextMoves(t,n,e),this.shipHits.push([t,n])),[t,n]}addNextMoves(e,t,n){if(null===this.shipOrientation){let a=[[-1,0],[1,0],[0,-1],[0,1]];for(let r of a){let a=e+r[0],i=t+r[1];a>=0&&a<10&&i>=0&&i<10&&null===n.receivedAttacks[i][a]&&this.moveQueue.push([a,i])}}else if("horizontal"===this.shipOrientation){let e=this.shipHits[0][1],t=1/0,a=-1/0;for(let e of this.shipHits)e[0]<t&&(t=e[0]),e[0]>a&&(a=e[0]);t-1>=0&&null===n.receivedAttacks[e][t-1]&&!this.inMoveQueue(t-1,e)&&this.moveQueue.push([t-1,e]),a+1<10&&null===n.receivedAttacks[e][a+1]&&!this.inMoveQueue(a+1,e)&&this.moveQueue.push([a+1,e])}else if("vertical"===this.shipOrientation){let e=this.shipHits[0][0],t=1/0,a=-1/0;for(let e of this.shipHits)e[1]<t&&(t=e[1]),e[1]>a&&(a=e[1]);t-1>=0&&null===n.receivedAttacks[t-1][e]&&!this.inMoveQueue(e,t-1)&&this.moveQueue.push([e,t-1]),a+1<10&&null===n.receivedAttacks[a+1][e]&&!this.inMoveQueue(e,a+1)&&this.moveQueue.push([e,a+1])}}inMoveQueue(e,t){let n=!1;for(let a of this.moveQueue)a[0]===e&&a[1]===t&&(n=!0);return n}getNextMove(e){if(null!==this.currentShipTarget&&this.currentShipTarget.isSunk()&&(this.moveQueue=[],this.shipHits=[],this.shipOrientation=null,this.currentShipTarget=null),0===this.moveQueue.length)return this.getRandomMove(e);let t=this.moveQueue.shift();return e.board[t[1]][t[0]]instanceof b.Ship&&(this.shipHits.push([t[0],t[1]]),null===this.shipOrientation&&(this.shipOrientation=this.getOrientation(),this.pruneQueue()),this.addNextMoves(t[0],t[1],e)),t}pruneQueue(){let e=[];if("vertical"===this.shipOrientation)for(let t of this.moveQueue)t[0]===this.shipHits[0][0]&&e.push(t);else if("horizontal"===this.shipOrientation)for(let t of this.moveQueue)t[1]===this.shipHits[0][1]&&e.push(t);this.moveQueue=e}getOrientation(){return this.shipHits[0][0]===this.shipHits[1][0]?"vertical":this.shipHits[0][1]===this.shipHits[1][1]?"horizontal":void 0}}class A{constructor(e,t){this.player1=e,this.player2=t,this.turnPlayer=e,this.turnEnemy=t}toggleTurn(){let e=this.turnPlayer;this.turnPlayer=this.turnEnemy,this.turnEnemy=e}makeMove(e,t){let n=this.turnEnemy.gameboard.receiveAttack(e,t);return n&&this.toggleTurn(),n}isOver(){return!(!this.player1.gameboard.areAllShipsSunk()&&!this.player2.gameboard.areAllShipsSunk())}}const S=n.p+"d3ea8ff262941a773543.mp3",C=n.p+"956af1aa57596868e7dd.mp3",E=n.p+"625262ccd4babe4d4007.mp3",M=n.p+"2c6a83aa23e4aba545d2.mp3";(new class{constructor(){this.isDragging=!1,this.startX,this.startY,this.newX,this.newY,this.beingDragged,this.dragStart=this.dragStart.bind(this),this.dragEnd=this.dragEnd.bind(this),this.rotateShip=this.rotateShip.bind(this),this.randomize=this.randomize.bind(this),this.reset=this.reset.bind(this),this.start=this.start.bind(this),this.createNewGame(),this.muted=!1,this.addAudio()}addAudio(){this.ambientSound=new Audio(S),this.ambientSound.loop=!0,this.ambientSound.volume=.1,this.ping=new Audio(C),this.ping.volume=.1,this.hit=new Audio(E),this.hit.volume=.1,this.explosion=new Audio(M),this.explosion.volume=.3}createNewGame(){this.player1=new L,this.player2=new k,this.game=new A(this.player1,this.player2)}loadGamePage(){let e=function(e){let t=document.createElement("div");t.classList.add("game-page-container");let n=document.createElement("div");n.classList.add("title-container"),n.innerHTML='\n    <div class="logo">\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="currentColor" d="M12 7.75A4.25 4.25 0 1 0 16.25 12a.75.75 0 0 1 1.5 0a5.75 5.75 0 1 1-3.45-5.271a.75.75 0 0 1-.6 1.374A4.2 4.2 0 0 0 12 7.75" opacity="0.5" />\n        <path fill="currentColor" d="M12 4.75a7.25 7.25 0 0 0-1.233 14.396a1.498 1.498 0 0 1 2.466 0A7.25 7.25 0 0 0 19.25 12a.75.75 0 0 1 1.5 0a8.75 8.75 0 0 1-7.396 8.646a1.5 1.5 0 0 1-2.708 0a8.75 8.75 0 1 1 4.636-16.76a.75.75 0 1 1-.563 1.39A7.2 7.2 0 0 0 12 4.75" />\n        <path fill="currentColor" d="M14 12a2 2 0 1 1-1.219-1.842L17.97 4.97a.75.75 0 1 1 1.06 1.06l-5.188 5.189c.102.24.158.504.158.781m-7 1.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3" />\n      </svg>\n    </div>\n    <div class="title">Battleship</div>\n  ';let a=document.createElement("div");a.classList.add("game-container");let r=document.createElement("div");r.classList.add("player-container");let i=f(e),s=document.createElement("div");s.classList.add("stats"),s.classList.add("player1-stats"),s.innerHTML='\n    <div class="name">You</div>\n    <div class="remaining-ships-label">\n      Remaining ships:\n      <div class="player1-remaining-ships remaining-ships">5</div>\n    </div>\n  ';let o=document.createElement("div");o.classList.add("player-container"),o.classList.add("player2-container");let l=y(e),d=document.createElement("div");d.classList.add("stats"),d.classList.add("player2-stats"),d.innerHTML='\n    <div class="name">AI</div>\n    <div class="remaining-ships-label">\n      Remaining ships:\n      <div class="player2-remaining-ships remaining-ships">5</div>\n    </div>\n  ',r.appendChild(i),r.appendChild(s),o.appendChild(l),o.appendChild(d),a.appendChild(r),a.appendChild(o);let c=document.createElement("button");c.classList.add("quit-button"),c.textContent="quit";let p=document.createElement("button");return p.classList.add("volume-button"),p.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n      <path fill="currentColor" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217m5.274-.147a1 1 0 0 1 1.414 0A9.97 9.97 0 0 1 19 10a9.97 9.97 0 0 1-2.929 7.071a1 1 0 0 1-1.414-1.414A7.97 7.97 0 0 0 17 10a7.97 7.97 0 0 0-2.343-5.657a1 1 0 0 1 0-1.414m-2.829 2.828a1 1 0 0 1 1.415 0A5.98 5.98 0 0 1 15 10a5.98 5.98 0 0 1-1.757 4.243a1 1 0 0 1-1.415-1.415A3.98 3.98 0 0 0 13 10a3.98 3.98 0 0 0-1.172-2.828a1 1 0 0 1 0-1.415" clip-rule="evenodd" />\n    </svg>\n  ',t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(p),t}(this.game),t=e.querySelector(".player2-container"),n=document.querySelector("body"),a=e.querySelector(".quit-button"),r=e.querySelector(".volume-button");!0===this.muted?r.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n            <path fill="currentColor" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217m2.91 4.217a1 1 0 0 1 1.414 0L15 8.586l1.293-1.293a1 1 0 1 1 1.414 1.414L16.414 10l1.293 1.293a1 1 0 0 1-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 0 1-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 0 1 0-1.414" clip-rule="evenodd" />\n          </svg>\n        ':r.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n          <path fill="currentColor" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217m5.274-.147a1 1 0 0 1 1.414 0A9.97 9.97 0 0 1 19 10a9.97 9.97 0 0 1-2.929 7.071a1 1 0 0 1-1.414-1.414A7.97 7.97 0 0 0 17 10a7.97 7.97 0 0 0-2.343-5.657a1 1 0 0 1 0-1.414m-2.829 2.828a1 1 0 0 1 1.415 0A5.98 5.98 0 0 1 15 10a5.98 5.98 0 0 1-1.757 4.243a1 1 0 0 1-1.415-1.415A3.98 3.98 0 0 0 13 10a3.98 3.98 0 0 0-1.172-2.828a1 1 0 0 1 0-1.415" clip-rule="evenodd" />\n        </svg>\n      ';let i=e.querySelector(".player1-remaining-ships"),s=e.querySelector(".player2-remaining-ships");n.appendChild(e),t.addEventListener("click",(e=>{if(e.target.classList.contains("square")){if(e.target.classList.contains("disabled"))return;let t=e.target.getAttribute("data-x"),n=e.target.getAttribute("data-y");if(this.game.makeMove(t,n)){let e=document.querySelector(".player2-gameboard"),a=y(this.game);if(e.replaceWith(a),e=a,"hit"===this.player2.gameboard.receivedAttacks[n][t]?(this.addHitAnimation("player2",t,n),this.game.player2.gameboard.board[n][t].isSunk()?(this.explosion.pause(),this.explosion.currentTime=.5,this.explosion.play()):(this.hit.pause(),this.hit.currentTime=0,this.hit.play())):"miss"===this.player2.gameboard.receivedAttacks[n][t]&&(this.ping.pause(),this.ping.currentTime=0,this.ping.play()),i.textContent=this.player1.gameboard.remainingShips,s.textContent=this.player2.gameboard.remainingShips,this.game.isOver())return void this.showGameOver();e.classList.add("disabled"),e.classList.remove("turn"),e.classList.add("not-turn");let r=document.querySelector(".player1-gameboard");r.classList.add("turn"),r.classList.remove("not-turn"),setTimeout((()=>{let[t,n]=this.player2.getNextMove(this.game.turnEnemy.gameboard);this.game.makeMove(t,n);let a=f(this.game);r.replaceWith(a),"hit"===this.player1.gameboard.receivedAttacks[n][t]?(this.addHitAnimation("player1",t,n),this.game.player1.gameboard.board[n][t].isSunk()?(this.explosion.pause(),this.explosion.currentTime=.5,this.explosion.play()):(this.hit.pause(),this.hit.currentTime=0,this.hit.play())):"miss"===this.player1.gameboard.receivedAttacks[n][t]&&(this.ping.pause(),this.ping.currentTime=0,this.ping.play()),a.classList.add("not-turn"),i.textContent=this.player1.gameboard.remainingShips,s.textContent=this.player2.gameboard.remainingShips,this.game.isOver()?this.showGameOver():(e.classList.remove("disabled"),e.classList.add("turn"),e.classList.remove("not-turn"))}),1e3)}}})),a.addEventListener("click",(e=>{this.clearBody(),this.createNewGame(),this.ambientSound.pause(),this.ambientSound.currentTime=0,this.loadStartPage()})),r.addEventListener("click",(e=>{!0===this.muted?(this.muted=!1,this.ambientSound.volume=.1,this.hit.volume=.1,this.ping.volume=.1,this.explosion.volume=.3,document.querySelector(".volume-button").innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n            <path fill="currentColor" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217m5.274-.147a1 1 0 0 1 1.414 0A9.97 9.97 0 0 1 19 10a9.97 9.97 0 0 1-2.929 7.071a1 1 0 0 1-1.414-1.414A7.97 7.97 0 0 0 17 10a7.97 7.97 0 0 0-2.343-5.657a1 1 0 0 1 0-1.414m-2.829 2.828a1 1 0 0 1 1.415 0A5.98 5.98 0 0 1 15 10a5.98 5.98 0 0 1-1.757 4.243a1 1 0 0 1-1.415-1.415A3.98 3.98 0 0 0 13 10a3.98 3.98 0 0 0-1.172-2.828a1 1 0 0 1 0-1.415" clip-rule="evenodd" />\n          </svg>\n        '):(this.muted=!0,this.ambientSound.volume=0,this.hit.volume=0,this.ping.volume=0,this.explosion.volume=0,document.querySelector(".volume-button").innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n            <path fill="currentColor" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217m2.91 4.217a1 1 0 0 1 1.414 0L15 8.586l1.293-1.293a1 1 0 1 1 1.414 1.414L16.414 10l1.293 1.293a1 1 0 0 1-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 0 1-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 0 1 0-1.414" clip-rule="evenodd" />\n          </svg>\n        ')}))}addHitAnimation(e,t,n){let a,r=`.${e}-gameboard .square[data-x="${t}"][data-y="${n}"] .mark`;if(document.querySelector(r).classList.add("hit-wave"),a="player1"===e?this.game.player1.gameboard.board[n][t]:this.game.player2.gameboard.board[n][t],a.isSunk()){let t=a.startCoord;for(let n=0;n<a.length;n++){let r=t[0],i=t[1];"horizontal"===a.orientation?r+=n:i+=n;let s=`.${e}-gameboard .square[data-x="${r}"][data-y="${i}"] .explosion`;document.querySelector(s).classList.add("explode-wave")}}}showGameOver(){document.querySelectorAll(".gameboard").forEach((e=>{e.classList.add("disabled"),e.classList.remove("turn"),e.classList.remove("not-turn")}));let e,t,n=this.player1.gameboard.areAllShipsSunk()?"player2":"player1";"player1"===n?(e=document.querySelector(".player1-gameboard"),t=document.querySelector(".player1-stats")):"player2"===n&&(e=document.querySelector(".player2-gameboard"),t=document.querySelector(".player2-stats")),e.classList.add("winner-board"),t.classList.add("winner-stats");let a=t.querySelector(".name"),r=document.createElement("div");r.classList.add("crown"),r.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" stroke="#FFCC00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 18h14M5 14h14l1-9l-4 3l-4-5l-4 5l-4-3z" />\n      </svg>',a.appendChild(r)}loadStartPage(){let e=document.querySelector("body"),t=function(e){let t=document.createElement("div");t.classList.add("start-page-container");let n=document.createElement("div");n.classList.add("start-menu-container");let a=document.createElement("div");a.classList.add("board-container");let r=document.createElement("div");r.classList.add("click-to-rotate"),r.textContent="Click ship to rotate it";let i=x(e),s=document.createElement("div");s.classList.add("options-container");let o=document.createElement("button");o.classList.add("randomize-button"),o.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n      <path fill="currentColor" d="M10.998 1.58a2 2 0 0 1 2.004 0l7.5 4.342a2 2 0 0 1 .998 1.731v8.694a2 2 0 0 1-.998 1.73l-7.5 4.343a2 2 0 0 1-2.004 0l-7.5-4.342a2 2 0 0 1-.998-1.731V7.653a2 2 0 0 1 .998-1.73zM4.5 7.653v.005l6.502 3.764A2 2 0 0 1 12 13.153v7.536l7.5-4.342V7.653L12 3.311zM6.132 12.3c0-.552-.388-1.224-.866-1.5s-.866-.052-.866.5s.388 1.224.866 1.5s.866.052.866-.5m2.597 6.498c.478.276.866.053.866-.5c0-.552-.388-1.224-.866-1.5s-.866-.052-.866.5s.388 1.224.866 1.5M5.266 16.8c.478.276.866.052.866-.5s-.388-1.224-.866-1.5s-.866-.052-.866.5s.388 1.224.866 1.5m3.463-2c.478.277.866.053.865-.5c0-.552-.387-1.223-.866-1.5c-.478-.276-.866-.052-.866.5c0 .553.388 1.224.867 1.5M14.898 8c.478-.276.478-.724 0-1s-1.254-.276-1.732 0c-.479.276-.479.724 0 1c.478.276 1.254.276 1.732 0m-4.8-1c.478.276.478.724 0 1s-1.254.276-1.732 0s-.478-.724 0-1s1.254-.276 1.732 0m5.897 8.35c.598-.346 1.083-1.185 1.083-1.875s-.485-.97-1.082-.625s-1.083 1.184-1.083 1.875c0 .69.485.97 1.082.625" />\n    </svg>\n    randomize\n  ';let l=document.createElement("button");l.classList.add("reset-button"),l.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n\t<path fill="none" stroke="currentColor" d="M2.489 3.011V5.99h3m-1.825 5.396a5.5 5.5 0 1 0-.857-5.203" stroke-width="1.5" />\n</svg>\n    reset\n  ',s.appendChild(o),s.appendChild(l),a.appendChild(r),a.appendChild(i),a.appendChild(s);let d=document.createElement("div");d.classList.add("start-menu");let c=document.createElement("div");c.classList.add("start-title-container"),c.innerHTML='\n    <div class="logo">\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="currentColor" d="M12 7.75A4.25 4.25 0 1 0 16.25 12a.75.75 0 0 1 1.5 0a5.75 5.75 0 1 1-3.45-5.271a.75.75 0 0 1-.6 1.374A4.2 4.2 0 0 0 12 7.75" opacity="0.5" />\n        <path fill="currentColor" d="M12 4.75a7.25 7.25 0 0 0-1.233 14.396a1.498 1.498 0 0 1 2.466 0A7.25 7.25 0 0 0 19.25 12a.75.75 0 0 1 1.5 0a8.75 8.75 0 0 1-7.396 8.646a1.5 1.5 0 0 1-2.708 0a8.75 8.75 0 1 1 4.636-16.76a.75.75 0 1 1-.563 1.39A7.2 7.2 0 0 0 12 4.75" />\n        <path fill="currentColor" d="M14 12a2 2 0 1 1-1.219-1.842L17.97 4.97a.75.75 0 1 1 1.06 1.06l-5.188 5.189c.102.24.158.504.158.781m-7 1.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3" />\n      </svg>\n    </div>\n    <div class="title">Battleship</div>\n  ';let p=document.createElement("div");p.classList.add("ship-placement-container");let h=document.createElement("div");h.classList.add("place-your-ships"),h.textContent="Place your ships!";let u=document.createElement("div");u.classList.add("ship-placement-box");let m=document.createElement("div");m.classList.add("carrier"),m.setAttribute("data-ship-type","carrier");for(let e=0;e<5;e++){let e=document.createElement("div");e.classList.add("square");let t=document.createElement("div");t.classList.add("ship"),e.appendChild(t),m.appendChild(e)}let g=document.createElement("div");g.classList.add("battleship"),g.setAttribute("data-ship-type","battleship");for(let e=0;e<4;e++){let e=document.createElement("div");e.classList.add("square");let t=document.createElement("div");t.classList.add("ship"),e.appendChild(t),g.appendChild(e)}let v=document.createElement("div");v.classList.add("destroyer"),v.setAttribute("data-ship-type","destroyer");for(let e=0;e<3;e++){let e=document.createElement("div");e.classList.add("square");let t=document.createElement("div");t.classList.add("ship"),e.appendChild(t),v.appendChild(e)}let b=document.createElement("div");b.classList.add("patrol-boat"),b.setAttribute("data-ship-type","patrolBoat");for(let e=0;e<2;e++){let e=document.createElement("div");e.classList.add("square");let t=document.createElement("div");t.classList.add("ship"),e.appendChild(t),b.appendChild(e)}let f=document.createElement("div");f.classList.add("submarine"),f.setAttribute("data-ship-type","submarine");for(let e=0;e<3;e++){let e=document.createElement("div");e.classList.add("square");let t=document.createElement("div");t.classList.add("ship"),e.appendChild(t),f.appendChild(e)}u.appendChild(m),u.appendChild(g),u.appendChild(b),u.appendChild(v),u.appendChild(f),p.appendChild(h),p.appendChild(u);let y=document.createElement("button");y.classList.add("start-button"),y.textContent="start",d.appendChild(c),d.appendChild(p),d.appendChild(y);let w=document.createElement("div");return w.classList.add("attribution-container"),w.innerHTML='\n    <div class="credit">\n      &copy; 2025 - Designed and Developed by \n      <a href="https://github.com/JohnKelly-T">\n        John Kelly\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n          <g\n            fill="none"\n            stroke="currentColor"\n            stroke-linecap="round"\n            stroke-linejoin="round"\n            stroke-width="1.5"\n            color="currentColor"\n          >\n            <path d="M10 20.568c-3.429 1.157-6.286 0-8-3.568" />\n            <path\n              d="M10 22v-3.242c0-.598.184-1.118.48-1.588c.204-.322.064-.78-.303-.88C7.134 15.452 5 14.107 5 9.645c0-1.16.38-2.25 1.048-3.2c.166-.236.25-.354.27-.46c.02-.108-.015-.247-.085-.527c-.283-1.136-.264-2.343.16-3.43c0 0 .877-.287 2.874.96c.456.285.684.428.885.46s.469-.035 1.005-.169A9.5 9.5 0 0 1 13.5 3a9.6 9.6 0 0 1 2.343.28c.536.134.805.2 1.006.169c.2-.032.428-.175.884-.46c1.997-1.247 2.874-.96 2.874-.96c.424 1.087.443 2.294.16 3.43c-.07.28-.104.42-.084.526s.103.225.269.461c.668.95 1.048 2.04 1.048 3.2c0 4.462-2.134 5.807-5.177 6.643c-.367.101-.507.559-.303.88c.296.47.48.99.48 1.589V22"\n            />\n          </g>\n        </svg>\n      </a>\n    </div>\n  ',n.appendChild(a),n.appendChild(d),t.appendChild(n),t.appendChild(w),t}(this.game);e.appendChild(t);let n=t.querySelector(".board-container"),a=document.querySelectorAll(".ship-placement-box > *"),r=document.querySelector(".randomize-button"),i=document.querySelector(".reset-button"),s=document.querySelector(".start-button");for(let e of a)e.addEventListener("mousedown",(t=>{this.isDragging=!0,this.beingDragged=e,this.startX=t.clientX,this.startY=t.clientY,this.beingDragged.style.cursor="grabbing",document.addEventListener("mousemove",this.dragStart),document.addEventListener("mouseup",this.dragEnd)}));n.addEventListener("mousedown",(e=>{e.target.classList.contains("ship")&&(this.isDragging=!0,this.beingDragged=e.target,this.startX=e.clientX,this.startY=e.clientY,this.beingDragged.style.cursor="grabbing",document.addEventListener("mousemove",this.dragStart),document.addEventListener("mouseup",this.dragEnd))})),r.addEventListener("click",this.randomize),i.addEventListener("click",this.reset),s.addEventListener("click",this.start)}dragStart(e){if(this.isDragging)if(this.beingDragged.classList.contains("ship")){let t=`.ship[data-ship-type=${this.beingDragged.getAttribute("data-ship-type")}]`,n=document.querySelectorAll(t);this.newX=e.clientX-this.startX,this.newY=e.clientY-this.startY;for(let e of n)e.style.setProperty("--offsetY",this.newY+"px"),e.style.setProperty("--offsetX",this.newX+"px")}else this.newX=e.clientX-this.startX,this.newY=e.clientY-this.startY,this.beingDragged.style.top=this.newY+"px",this.beingDragged.style.left=this.newX+"px"}dragEnd(e){if(this.isDragging=!1,this.beingDragged.classList.contains("ship")){let t=this.beingDragged.getAttribute("data-ship-type"),n=`.ship[data-ship-type=${t}]`,a=document.querySelectorAll(n),r=a[0].getBoundingClientRect(),i=a[0].offsetHeight/2,s=a[0].offsetWidth/2;a[0].style.visibility="hidden";let o=document.elementFromPoint(r.left+s,r.top+i);if(a[0].style.visibility="visible",null!==o&&o.classList.contains("square")){let n=this.player1.gameboard.ships.find((e=>e.type===t)).startCoord;this.player1.gameboard.removeShip(t),this.placeShip(o.getAttribute("data-x"),o.getAttribute("data-y"),t,this.beingDragged.getAttribute("data-orientation"))||this.placeShip(n[0],n[1],t,this.beingDragged.getAttribute("data-orientation")),this.startX===e.clientX&&this.startY===e.clientY&&this.rotateShip(e)}else for(let e of a)e.style.setProperty("--offsetY","0px"),e.style.setProperty("--offsetX","0px")}else{let e=this.beingDragged.getBoundingClientRect(),t=this.beingDragged.querySelector(".square").offsetHeight/2,n=this.beingDragged.querySelector(".square").offsetWidth/2;this.beingDragged.style.visibility="hidden";let a=document.elementFromPoint(e.left+n,e.top+t);this.beingDragged.style.visibility="visible",null!==a&&a.classList.contains("square")?this.placeShip(a.getAttribute("data-x"),a.getAttribute("data-y"),this.beingDragged.getAttribute("data-ship-type"),"horizontal")&&(this.beingDragged.style.visibility="hidden"):this.beingDragged.style.visibility="visible",this.beingDragged.style.top=0,this.beingDragged.style.left=0,this.beingDragged.style.cursor="grab"}document.removeEventListener("mousemove",this.dragStart),document.removeEventListener("mouseup",this.dragEnd)}rotateShip(e){if(e.target.classList.contains("ship")){let t=e.target,n=Number(t.getAttribute("data-x")),a=Number(t.getAttribute("data-y")),r=this.player1.gameboard.board[a][n],i=r.startCoord,s=r.orientation,o=i[0]-n,l=i[1]-a,d=-l,c=o,p=n+d,h=a+c;"vertical"===s&&(p-=r.length-1);let u="horizontal"===s?"vertical":"horizontal";this.player1.gameboard.removeShip(r.type);let m=this.placeShip(p,h,r.type,u);for(;!m;){o=p-n,l=h-a,d=-l,c=o,p=n+d,h=a+c;let e=s;s=u,u=e,"vertical"===s&&(p-=r.length-1),m=this.placeShip(p,h,r.type,u)}console.log({pivotX:n,pivotY:a})}}placeShip(e,t,n,a){return!!this.player1.gameboard.placeShip(n,Number(e),Number(t),a)&&(document.querySelector(".start-gameboard").replaceWith(x(this.game)),!0)}randomize(e){this.player1.gameboard=new w,this.player1.placeShipsRandomly();let t=document.querySelectorAll(".ship-placement-box > *");for(let e of t)e.style.top="0px",e.style.left="0px",e.style.visibility="hidden";document.querySelector(".start-gameboard").replaceWith(x(this.game))}reset(e){this.player1.gameboard=new w;let t=document.querySelectorAll(".ship-placement-box > *");for(let e of t)e.style.top="0px",e.style.left="0px",e.style.visibility="visible";document.querySelector(".start-gameboard").replaceWith(x(this.game))}start(e){5===this.game.player1.gameboard.ships.length&&(this.player2.placeShipsRandomly(),this.ambientSound.play(),this.clearBody(),this.loadGamePage())}clearBody(){document.querySelector("body").innerHTML=""}}).loadStartPage()})()})();